<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Aweasome Ad</title>
    <script src="mraid.js"></script>
    <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const c={video:{config:{src:"https://content.hybrid.ai/mraid/winline_playable_v2/assets/video.mp4",metricsUrl:"",autoplay:!0,muted:!1,skip:!1,clickDelay:0}},overlay:{config:{type:"static",src:"https://content.hybrid.ai/Hybrid/3D/5D/3D5D8522234F991AA32C34810346E9C9.jpg",height:56,delay:3,position:"bottom"}},endcard:{config:{cards:[{type:"dynamic",src:"https://content.hybrid.ai/mraid/hcc_test_v1/320x480_Zolotoe_Yabloko_Rich_Media.html"},{type:"dynamic",src:"https://content.hybrid.ai/mraid/hcc_test_v1/1_1_CTA_test.htm"}],delay:2}}};class r{config;htmlElement;quartiles;constructor(e){this.config=e,this.htmlElement=document.getElementById("video"),this.quartiles={25:!1,50:!1,75:!1,100:!1}}quertileFetching(e){try{this.config.metricsUrl&&(new Image().src=`${this.config.metricsUrl}/${e}`)}catch(n){console.error(n)}}quertileWatcher(){this.htmlElement.addEventListener("timeupdate",()=>{const e=this.htmlElement.currentTime/this.htmlElement.duration*100;e>=25&&!this.quartiles[25]&&(this.quartiles[25]=!0,this.quertileFetching(25)),e>=50&&!this.quartiles[50]&&(this.quartiles[50]=!0,this.quertileFetching(50)),e>=75&&!this.quartiles[75]&&(this.quartiles[75]=!0,this.quertileFetching(75))})}isVideoPlaying(){return this.htmlElement.currentTime>0&&!this.htmlElement.paused&&!this.htmlElement.ended&&this.htmlElement.readyState>2}unmountVideo(){this.htmlElement.pause();const e=new CustomEvent("skip-video-event");window.dispatchEvent(e),this.htmlElement.style.display="none"}init(){this.htmlElement.src=this.config.src,this.htmlElement.autoplay=this.config.autoplay,this.htmlElement.muted=this.config.muted,this.quertileWatcher(),this.htmlElement.onended=()=>{this.unmountVideo(),this.quartiles[100]||(this.quartiles[100]=!0,this.quertileFetching(100))},setTimeout(()=>{this.htmlElement.onclick=()=>{if(this.config.skip){this.unmountVideo();return}this.isVideoPlaying()?this.htmlElement.pause():this.htmlElement.play()}},this.config.clickDelay*1e3),this.config.autoplay&&this.htmlElement.play()}}class h{config;htmlElement;constructor(e){this.config=e,this.htmlElement=document.getElementById("endcard")}staticRender(e,n){const t=document.createElement("img");t.src=e.src,t.alt=e.src,n?(t.style.display="block",this.config.delay&&setTimeout(()=>{t.style.display="none"},this.config.delay*1e3)):setTimeout(()=>{t.style.display="block"},this.config.delay*1e3),this.htmlElement.appendChild(t)}dymanicRender(e,n){const t=document.createElement("iframe");t.src=e.src,t.style="width: 100%; height: 100%; border: none;",t.setAttribute("sandbox","allow-scripts allow-same-origin"),n?(t.style.display="block",this.config.delay&&setTimeout(()=>{t.style.display="none"},this.config.delay*1e3)):setTimeout(()=>{t.style.display="block"},this.config.delay*1e3),this.htmlElement.appendChild(t)}subscribeOnVideoEnd(){window.addEventListener("skip-video-event",()=>{this.init()})}init(){this.config.cards.forEach((e,n)=>{e.type==="static"&&this.staticRender(e,!n),e.type==="dynamic"&&this.dymanicRender(e,!n)}),this.htmlElement.classList.add("visible")}}class m{config;htmlElement;constructor(e){this.config=e,this.htmlElement=document.getElementById("overlay")}staticImageRender(){const e=document.createElement("img");e.src=this.config.src,e.alt="overlay-img",e.style.left="0px",this.config.position==="bottom"?this.htmlElement.style.bottom="0px":this.htmlElement.style.top="0px",this.htmlElement.appendChild(e)}dynamicRender(){const e=document.createElement("iframe");e.src=this.config.src,e.style="width: 100%; height: 100%; border: none;",e.setAttribute("sandbox","allow-scripts allow-same-origin"),this.config.position==="bottom"?this.htmlElement.style.bottom="0px":this.htmlElement.style.top="0px",this.htmlElement.appendChild(e)}init(){window.addEventListener("skip-video-event",()=>{this.htmlElement.style.display="none"}),this.config.height&&(this.htmlElement.style.height=this.config.height+"px"),setTimeout(()=>{this.config.type==="static"&&this.staticImageRender(),this.config.type==="dynamic"&&this.dynamicRender(),this.htmlElement.classList.add("visible")},this.config.delay*1e3)}}const a=()=>{new r(c.video.config).init(),new m(c.overlay.config).init(),new h(c.endcard.config).subscribeOnVideoEnd()};a();</script>
    <style rel="stylesheet" crossorigin>body{margin:0;overflow:hidden;font-family:sans-serif;background:#000;color:#fff;text-align:center;width:100%;height:100%}.video{position:absolute;top:0;left:0;width:100%;height:100%}.overlay{position:absolute;height:100%;width:100%;display:none;left:0;overflow:hidden;z-index:2}.overlay img{height:100%;width:100%;object-fit:contain;display:block}.endcard{position:absolute;height:100%;width:100%;display:none;left:0;overflow:hidden;z-index:3}.endcard img{height:100%;width:100%;object-fit:contain}.visible{display:block}</style>
  </head>
  <body>
    <video id="video" class="video"></video>
    <div id="endcard" class="endcard"></div>
    <div id="overlay" class="overlay"></div>
  </body>
</html>
